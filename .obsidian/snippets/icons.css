/**
 * Weave-NN Visual Styling System - Icons
 * Phase 1: Foundation
 *
 * Purpose: Add visual icons to files, headings, and navigation
 * Usage: Icons from frontmatter metadata displayed in UI
 */

/* ==========================================
   FILE EXPLORER ICONS
   ========================================== */

/* Hub files get special hub icon */
.nav-file-title[data-path$="-hub.md"]::before {
  content: "ğŸ  ";
  font-size: 0.9em;
}

/* Index files */
.nav-file-title[data-path*="index"]::before,
.nav-file-title[data-path*="INDEX"]::before {
  content: "ğŸ“‘ ";
  font-size: 0.9em;
}

/* Planning documents */
.nav-file-title[data-path*="planning"]::before,
.nav-file-title[data-path*="_planning"]::before {
  content: "ğŸ“‹ ";
  font-size: 0.9em;
}

/* Phase documents */
.nav-file-title[data-path*="phase-"]::before {
  content: "ğŸ¯ ";
  font-size: 0.9em;
}

/* Implementation files */
.nav-file-title[data-path*="implementation"]::before {
  content: "âš™ï¸ ";
  font-size: 0.9em;
}

/* Research documents */
.nav-file-title[data-path*="research"]::before {
  content: "ğŸ”¬ ";
  font-size: 0.9em;
}

/* Architecture documents */
.nav-file-title[data-path*="architecture"]::before {
  content: "ğŸ—ï¸ ";
  font-size: 0.9em;
}

/* Documentation */
.nav-file-title[data-path*="docs/"]::before,
.nav-file-title[data-path*="documentation"]::before {
  content: "ğŸ“š ";
  font-size: 0.9em;
}

/* Test files */
.nav-file-title[data-path*="test"]::before,
.nav-file-title[data-path*="spec"]::before {
  content: "ğŸ§ª ";
  font-size: 0.9em;
}

/* Decision records */
.nav-file-title[data-path*="decision"]::before {
  content: "ğŸ² ";
  font-size: 0.9em;
}

/* Guides and tutorials */
.nav-file-title[data-path*="guide"]::before,
.nav-file-title[data-path*="tutorial"]::before {
  content: "ğŸ“– ";
  font-size: 0.9em;
}

/* Workflows */
.nav-file-title[data-path*="workflow"]::before {
  content: "ğŸ”„ ";
  font-size: 0.9em;
}

/* Templates */
.nav-file-title[data-path*="template"]::before {
  content: "ğŸ“„ ";
  font-size: 0.9em;
}

/* Configuration files */
.nav-file-title[data-path*="config"]::before {
  content: "âš™ï¸ ";
  font-size: 0.9em;
}

/* ==========================================
   HEADING ICONS BASED ON CONTENT
   ========================================== */

/* Add icons to specific heading patterns */
h1:has(+ p:contains("Phase")),
h2:has(+ p:contains("Phase")) {
  position: relative;
  padding-left: 1.5em;
}

h1:has(+ p:contains("Phase"))::before,
h2:has(+ p:contains("Phase"))::before {
  content: "ğŸ¯";
  position: absolute;
  left: 0;
}

/* Implementation sections */
h2:contains("Implementation")::before,
h3:contains("Implementation")::before {
  content: "âš™ï¸ ";
}

/* Architecture sections */
h2:contains("Architecture")::before,
h3:contains("Architecture")::before {
  content: "ğŸ—ï¸ ";
}

/* Testing sections */
h2:contains("Test")::before,
h2:contains("Testing")::before,
h3:contains("Test")::before {
  content: "ğŸ§ª ";
}

/* Documentation sections */
h2:contains("Documentation")::before,
h3:contains("Documentation")::before {
  content: "ğŸ“š ";
}

/* ==========================================
   FRONTMATTER ICON SUPPORT
   ========================================== */

/* Display icon from frontmatter in document header */
.markdown-preview-view .frontmatter-container {
  position: relative;
}

.markdown-preview-view .frontmatter-container::before {
  content: attr(data-icon);
  font-size: 2em;
  position: absolute;
  top: 0;
  right: 0;
}

/* ==========================================
   TAG ICONS
   ========================================== */

/* Visual icons for common tags */
.tag[href="#index"]::before,
.tag[href="#navigation"]::before {
  content: "ğŸ—ºï¸ ";
}

.tag[href="#phase"]::before,
.tag[href="#planning"]::before {
  content: "ğŸ“‹ ";
}

.tag[href="#implementation"]::before {
  content: "âš™ï¸ ";
}

.tag[href="#research"]::before {
  content: "ğŸ”¬ ";
}

.tag[href="#architecture"]::before {
  content: "ğŸ—ï¸ ";
}

.tag[href="#testing"]::before {
  content: "ğŸ§ª ";
}

.tag[href="#documentation"]::before {
  content: "ğŸ“š ";
}

.tag[href="#decision"]::before {
  content: "ğŸ² ";
}

.tag[href="#knowledge-graph"]::before {
  content: "ğŸ•¸ï¸ ";
}

.tag[href="#vault-home"]::before {
  content: "ğŸ  ";
}

.tag[href="#active"]::before {
  content: "âœ… ";
}

.tag[href="#deprecated"]::before,
.tag[href="#obsolete"]::before {
  content: "âŒ ";
}

.tag[href="#archived"]::before {
  content: "ğŸ“¦ ";
}

/* ==========================================
   LINK ICONS
   ========================================== */

/* External links */
a.external-link::after {
  content: " ğŸ”—";
  font-size: 0.8em;
  opacity: 0.6;
}

/* Internal wikilinks to hub documents */
a.internal-link[href$="-hub"]::before {
  content: "ğŸ  ";
  font-size: 0.85em;
}

/* Links to phase documents */
a.internal-link[href*="phase-"]::before {
  content: "ğŸ¯ ";
  font-size: 0.85em;
}

/* ==========================================
   FOLDER ICONS IN EXPLORER
   ========================================== */

/* Main folders */
.nav-folder-title[data-path="weave-nn"]::before {
  content: "ğŸ§  ";
}

.nav-folder-title[data-path*="_planning"]::before {
  content: "ğŸ“‹ ";
}

.nav-folder-title[data-path*="docs"]::before {
  content: "ğŸ“š ";
}

.nav-folder-title[data-path*="architecture"]::before {
  content: "ğŸ—ï¸ ";
}

.nav-folder-title[data-path*="research"]::before {
  content: "ğŸ”¬ ";
}

.nav-folder-title[data-path*="tests"]::before,
.nav-folder-title[data-path*="testing"]::before {
  content: "ğŸ§ª ";
}

.nav-folder-title[data-path*="workflows"]::before {
  content: "ğŸ”„ ";
}

.nav-folder-title[data-path*="templates"]::before {
  content: "ğŸ“„ ";
}

.nav-folder-title[data-path*="concepts"]::before {
  content: "ğŸ’¡ ";
}

.nav-folder-title[data-path*="decisions"]::before {
  content: "ğŸ² ";
}

.nav-folder-title[data-path*=".archive"]::before,
.nav-folder-title[data-path*="archive"]::before {
  content: "ğŸ“¦ ";
}

/* ==========================================
   STATUS INDICATORS
   ========================================== */

/* Add status badges to file titles */
.nav-file-title[data-path*="COMPLETE"]::after,
.nav-file-title[data-path*="complete"]::after {
  content: " âœ…";
  font-size: 0.8em;
  opacity: 0.7;
}

.nav-file-title[data-path*="WIP"]::after,
.nav-file-title[data-path*="draft"]::after {
  content: " ğŸš§";
  font-size: 0.8em;
  opacity: 0.7;
}

.nav-file-title[data-path*="TODO"]::after {
  content: " â³";
  font-size: 0.8em;
  opacity: 0.7;
}

/* ==========================================
   CUSTOM ICON SUPPORT
   ========================================== */

/* Allow custom icons via CSS classes */
.icon-brain::before { content: "ğŸ§  "; }
.icon-gear::before { content: "âš™ï¸ "; }
.icon-book::before { content: "ğŸ“š "; }
.icon-microscope::before { content: "ğŸ”¬ "; }
.icon-building::before { content: "ğŸ—ï¸ "; }
.icon-test-tube::before { content: "ğŸ§ª "; }
.icon-home::before { content: "ğŸ  "; }
.icon-target::before { content: "ğŸ¯ "; }
.icon-clipboard::before { content: "ğŸ“‹ "; }
.icon-recycle::before { content: "ğŸ”„ "; }
.icon-document::before { content: "ğŸ“„ "; }
.icon-lightbulb::before { content: "ğŸ’¡ "; }
.icon-dice::before { content: "ğŸ² "; }
.icon-package::before { content: "ğŸ“¦ "; }
.icon-checkmark::before { content: "âœ… "; }
.icon-construction::before { content: "ğŸš§ "; }
.icon-hourglass::before { content: "â³ "; }
.icon-web::before { content: "ğŸ•¸ï¸ "; }
.icon-map::before { content: "ğŸ—ºï¸ "; }

/* ==========================================
   DARK MODE ADJUSTMENTS
   ========================================== */

.theme-dark .nav-file-title::before,
.theme-dark .nav-folder-title::before {
  filter: brightness(1.2);
}

/* ==========================================
   ACCESSIBILITY
   ========================================== */

/* Option to hide icons for screen readers */
@media (prefers-reduced-motion: reduce) {
  .nav-file-title::before,
  .nav-folder-title::before,
  h1::before, h2::before, h3::before {
    display: none;
  }
}

/* High contrast mode - use symbols instead of emojis */
@media (prefers-contrast: high) {
  .nav-file-title[data-path$="-hub.md"]::before {
    content: "[HUB] ";
    font-weight: bold;
  }

  .nav-file-title[data-path*="phase-"]::before {
    content: "[PHASE] ";
    font-weight: bold;
  }
}
