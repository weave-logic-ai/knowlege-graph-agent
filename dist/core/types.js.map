{"version":3,"file":"types.js","sources":["../../src/core/types.ts"],"sourcesContent":["/**\n * Knowledge Graph Agent - Core Types\n *\n * Type definitions for the knowledge graph system.\n */\n\nimport { z } from 'zod';\n\n// ============================================================================\n// Node Types\n// ============================================================================\n\nexport type NodeType =\n  | 'concept'      // Abstract concepts and ideas\n  | 'technical'    // Technical components and implementations\n  | 'feature'      // Product features and capabilities\n  | 'primitive'    // Base technology primitives (frameworks, libraries)\n  | 'service'      // Backend services and APIs\n  | 'guide'        // How-to guides and tutorials\n  | 'standard'     // Coding standards and conventions\n  | 'integration'; // External integrations\n\nexport type NodeStatus = 'draft' | 'active' | 'deprecated' | 'archived';\n\nexport interface NodeLink {\n  target: string;           // Target node filename or path\n  type: 'wikilink' | 'markdown' | 'backlink';\n  text?: string;            // Display text for the link\n  context?: string;         // Context in which link appears\n}\n\nexport interface NodeFrontmatter {\n  title?: string;\n  type?: NodeType;\n  status?: NodeStatus;\n  tags?: string[];\n  category?: string;\n  description?: string;\n  created?: string;\n  updated?: string;\n  aliases?: string[];\n  related?: string[];\n  [key: string]: unknown;\n}\n\nexport interface KnowledgeNode {\n  id: string;\n  path: string;\n  filename: string;\n  title: string;\n  type: NodeType;\n  status: NodeStatus;\n  content: string;\n  frontmatter: NodeFrontmatter;\n  tags: string[];\n  outgoingLinks: NodeLink[];\n  incomingLinks: NodeLink[];\n  wordCount: number;\n  lastModified: Date;\n}\n\n// ============================================================================\n// Graph Types\n// ============================================================================\n\nexport interface GraphEdge {\n  source: string;  // Source node ID\n  target: string;  // Target node ID\n  type: 'link' | 'reference' | 'parent' | 'related';\n  weight: number;  // Relationship strength 0-1\n  context?: string;\n}\n\nexport interface KnowledgeGraph {\n  nodes: Map<string, KnowledgeNode>;\n  edges: GraphEdge[];\n  metadata: GraphMetadata;\n}\n\nexport interface GraphMetadata {\n  name: string;\n  version: string;\n  created: string;\n  updated: string;\n  nodeCount: number;\n  edgeCount: number;\n  rootPath: string;\n}\n\nexport interface GraphStats {\n  totalNodes: number;\n  totalEdges: number;\n  nodesByType: Record<NodeType, number>;\n  nodesByStatus: Record<NodeStatus, number>;\n  orphanNodes: number;\n  avgLinksPerNode: number;\n  mostConnected: Array<{ id: string; connections: number }>;\n}\n\n// ============================================================================\n// Configuration Types\n// ============================================================================\n\nexport const ConfigSchema = z.object({\n  // Project settings\n  projectRoot: z.string().default('.'),\n  docsRoot: z.string().default('./docs'),\n  vaultName: z.string().optional(),\n\n  // Graph settings\n  graph: z.object({\n    includePatterns: z.array(z.string()).default(['**/*.md']),\n    excludePatterns: z.array(z.string()).default([\n      'node_modules/**',\n      'dist/**',\n      '.git/**',\n    ]),\n    maxDepth: z.number().default(10),\n  }).default({}),\n\n  // Database settings\n  database: z.object({\n    path: z.string().default('./.kg/knowledge.db'),\n    enableWAL: z.boolean().default(true),\n  }).default({}),\n\n  // Claude-Flow integration\n  claudeFlow: z.object({\n    enabled: z.boolean().default(true),\n    namespace: z.string().default('knowledge-graph'),\n    syncOnChange: z.boolean().default(true),\n  }).default({}),\n\n  // Templates\n  templates: z.object({\n    customPath: z.string().optional(),\n    defaultType: z.enum(['concept', 'technical', 'feature', 'primitive', 'service', 'guide', 'standard', 'integration']).default('concept'),\n  }).default({}),\n});\n\nexport type KGConfig = z.infer<typeof ConfigSchema>;\n\n// ============================================================================\n// Generator Types\n// ============================================================================\n\nexport interface GeneratorOptions {\n  projectRoot: string;\n  outputPath: string;\n  includeExamples?: boolean;\n  force?: boolean;\n}\n\nexport interface GeneratedDocument {\n  path: string;\n  title: string;\n  type: NodeType;\n  content: string;\n  frontmatter: NodeFrontmatter;\n}\n\nexport interface DocsInitOptions {\n  projectRoot: string;\n  docsPath?: string;\n  template?: string;\n  includeExamples?: boolean;\n  detectFramework?: boolean;\n}\n\nexport interface DocsInitResult {\n  success: boolean;\n  docsPath: string;\n  filesCreated: string[];\n  errors: string[];\n}\n\n// ============================================================================\n// Claude-Flow Integration Types\n// ============================================================================\n\nexport interface MemoryEntry {\n  key: string;\n  value: unknown;\n  namespace?: string;\n  ttl?: number;\n  metadata?: Record<string, unknown>;\n}\n\nexport interface SyncResult {\n  synced: number;\n  failed: number;\n  errors: Array<{ key: string; error: string }>;\n}\n\n// ============================================================================\n// CLAUDE.md Template Types\n// ============================================================================\n\nexport interface ClaudeMdSection {\n  title: string;\n  content: string;\n  order: number;\n}\n\nexport interface ClaudeMdTemplate {\n  name: string;\n  description: string;\n  sections: ClaudeMdSection[];\n  variables: Record<string, string>;\n}\n\nexport interface ClaudeMdGeneratorOptions {\n  projectRoot: string;\n  outputPath?: string;\n  template?: string;\n  includeKnowledgeGraph?: boolean;\n  includeClaudeFlow?: boolean;\n  customSections?: ClaudeMdSection[];\n}\n"],"names":[],"mappings":";AAuGO,MAAM,eAAe,EAAE,OAAO;AAAA;AAAA,EAEnC,aAAa,EAAE,SAAS,QAAQ,GAAG;AAAA,EACnC,UAAU,EAAE,SAAS,QAAQ,QAAQ;AAAA,EACrC,WAAW,EAAE,OAAA,EAAS,SAAA;AAAA;AAAA,EAGtB,OAAO,EAAE,OAAO;AAAA,IACd,iBAAiB,EAAE,MAAM,EAAE,OAAA,CAAQ,EAAE,QAAQ,CAAC,SAAS,CAAC;AAAA,IACxD,iBAAiB,EAAE,MAAM,EAAE,OAAA,CAAQ,EAAE,QAAQ;AAAA,MAC3C;AAAA,MACA;AAAA,MACA;AAAA,IAAA,CACD;AAAA,IACD,UAAU,EAAE,OAAA,EAAS,QAAQ,EAAE;AAAA,EAAA,CAChC,EAAE,QAAQ,EAAE;AAAA;AAAA,EAGb,UAAU,EAAE,OAAO;AAAA,IACjB,MAAM,EAAE,SAAS,QAAQ,oBAAoB;AAAA,IAC7C,WAAW,EAAE,QAAA,EAAU,QAAQ,IAAI;AAAA,EAAA,CACpC,EAAE,QAAQ,EAAE;AAAA;AAAA,EAGb,YAAY,EAAE,OAAO;AAAA,IACnB,SAAS,EAAE,UAAU,QAAQ,IAAI;AAAA,IACjC,WAAW,EAAE,SAAS,QAAQ,iBAAiB;AAAA,IAC/C,cAAc,EAAE,QAAA,EAAU,QAAQ,IAAI;AAAA,EAAA,CACvC,EAAE,QAAQ,EAAE;AAAA;AAAA,EAGb,WAAW,EAAE,OAAO;AAAA,IAClB,YAAY,EAAE,OAAA,EAAS,SAAA;AAAA,IACvB,aAAa,EAAE,KAAK,CAAC,WAAW,aAAa,WAAW,aAAa,WAAW,SAAS,YAAY,aAAa,CAAC,EAAE,QAAQ,SAAS;AAAA,EAAA,CACvI,EAAE,QAAQ,CAAA,CAAE;AACf,CAAC;"}