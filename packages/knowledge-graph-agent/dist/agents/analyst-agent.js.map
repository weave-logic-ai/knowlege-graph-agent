{"version":3,"file":"analyst-agent.js","sources":["../../src/agents/analyst-agent.ts"],"sourcesContent":["/**\n * Analyst Agent\n *\n * Specialized agent for code analysis, metrics calculation, and quality assessment.\n * Extends BaseAgent with static analysis capabilities and knowledge graph integration.\n *\n * @module agents/analyst-agent\n */\n\nimport * as fs from 'fs/promises';\nimport * as path from 'path';\nimport { BaseAgent } from './base-agent.js';\nimport {\n  AgentType,\n  type AgentTask,\n  type AgentResult,\n  type AnalystAgentConfig,\n  type ResultArtifact,\n} from './types.js';\nimport { KnowledgeGraphManager } from '../core/graph.js';\nimport type { KnowledgeNode } from '../core/types.js';\n\n// ============================================================================\n// Types\n// ============================================================================\n\n/**\n * Analysis type\n */\nexport type AnalysisType = 'code' | 'data' | 'performance' | 'security' | 'quality';\n\n/**\n * Code metrics\n */\nexport interface CodeMetrics {\n  /** Total lines of code */\n  totalLines: number;\n  /** Lines of code (excluding comments/blanks) */\n  linesOfCode: number;\n  /** Comment lines */\n  commentLines: number;\n  /** Blank lines */\n  blankLines: number;\n  /** Number of files */\n  fileCount: number;\n  /** Number of functions */\n  functionCount: number;\n  /** Number of classes */\n  classCount: number;\n  /** Average function length */\n  avgFunctionLength: number;\n  /** Maximum function length */\n  maxFunctionLength: number;\n  /** Cyclomatic complexity */\n  cyclomaticComplexity: number;\n  /** Cognitive complexity */\n  cognitiveComplexity: number;\n  /** Maintainability index (0-100) */\n  maintainabilityIndex: number;\n  /** Technical debt estimate (hours) */\n  technicalDebt: number;\n}\n\n/**\n * Quality issue\n */\nexport interface QualityIssue {\n  /** Issue type/category */\n  type: string;\n  /** Severity level */\n  severity: 'info' | 'warning' | 'error' | 'critical';\n  /** Issue message */\n  message: string;\n  /** File path */\n  file?: string;\n  /** Line number */\n  line?: number;\n  /** Column number */\n  column?: number;\n  /** Rule that triggered the issue */\n  rule?: string;\n  /** Suggested fix */\n  suggestion?: string;\n}\n\n/**\n * Quality assessment result\n */\nexport interface QualityAssessment {\n  /** Overall quality score (0-100) */\n  score: number;\n  /** Quality grade (A-F) */\n  grade: 'A' | 'B' | 'C' | 'D' | 'F';\n  /** Code metrics */\n  metrics: CodeMetrics;\n  /** Issues found */\n  issues: QualityIssue[];\n  /** Recommendations */\n  recommendations: string[];\n  /** Analysis timestamp */\n  timestamp: Date;\n}\n\n/**\n * File analysis result\n */\nexport interface FileAnalysis {\n  /** File path */\n  path: string;\n  /** File type */\n  type: string;\n  /** Lines of code */\n  linesOfCode: number;\n  /** Complexity score */\n  complexity: number;\n  /** Issues in this file */\n  issues: QualityIssue[];\n  /** Dependencies */\n  dependencies: string[];\n  /** Exports */\n  exports: string[];\n}\n\n/**\n * Project analysis result\n */\nexport interface ProjectAnalysis {\n  /** Project name */\n  name: string;\n  /** Root path */\n  rootPath: string;\n  /** Overall quality assessment */\n  quality: QualityAssessment;\n  /** Per-file analysis */\n  files: FileAnalysis[];\n  /** Dependency analysis */\n  dependencies: {\n    internal: string[];\n    external: string[];\n    unused: string[];\n    missing: string[];\n  };\n  /** Hotspots (complex/problematic areas) */\n  hotspots: Array<{\n    file: string;\n    reason: string;\n    severity: 'low' | 'medium' | 'high';\n  }>;\n}\n\n/**\n * Analyst task type\n */\nexport type AnalystTaskType = 'analyze' | 'metrics' | 'quality' | 'issues';\n\n// ============================================================================\n// Analyst Agent\n// ============================================================================\n\n/**\n * Analyst Agent\n *\n * Capabilities:\n * - Code analysis and metrics calculation\n * - Quality assessment and scoring\n * - Issue detection and reporting\n * - Dependency analysis\n *\n * @example\n * ```typescript\n * const analyst = new AnalystAgent({\n *   name: 'analyst-agent',\n *   type: AgentType.ANALYST,\n *   analysisType: 'quality',\n * });\n *\n * const result = await analyst.execute({\n *   id: 'task-1',\n *   description: 'Analyze project quality',\n *   priority: TaskPriority.MEDIUM,\n *   input: {\n *     data: {\n *       projectRoot: '/path/to/project',\n *       analysisType: 'quality'\n *     }\n *   },\n *   createdAt: new Date()\n * });\n * ```\n */\nexport class AnalystAgent extends BaseAgent {\n  /** File patterns to analyze */\n  private readonly codePatterns = ['.ts', '.tsx', '.js', '.jsx', '.mts', '.mjs'];\n\n  /** Knowledge graph reference */\n  private knowledgeGraph: KnowledgeGraphManager | null = null;\n\n  constructor(config: Partial<AnalystAgentConfig> & { name: string }) {\n    super({\n      type: AgentType.ANALYST,\n      taskTimeout: 300000, // 5 minutes for large projects\n      capabilities: ['code-analysis', 'metrics', 'quality-assessment'],\n      ...config,\n    });\n  }\n\n  // ==========================================================================\n  // Knowledge Graph Integration\n  // ==========================================================================\n\n  /**\n   * Set knowledge graph for context-aware analysis\n   */\n  setKnowledgeGraph(graph: KnowledgeGraphManager): void {\n    this.knowledgeGraph = graph;\n    this.logger.debug('Knowledge graph attached', {\n      nodeCount: graph.getMetadata().nodeCount,\n    });\n  }\n\n  // ==========================================================================\n  // Task Execution\n  // ==========================================================================\n\n  /**\n   * Execute analyst task\n   */\n  protected async executeTask(task: AgentTask): Promise<AgentResult> {\n    const startTime = new Date();\n    const taskType = (task.input?.parameters?.taskType as AnalystTaskType) || 'analyze';\n\n    switch (taskType) {\n      case 'analyze':\n        return this.handleAnalyzeTask(task, startTime);\n      case 'metrics':\n        return this.handleMetricsTask(task, startTime);\n      case 'quality':\n        return this.handleQualityTask(task, startTime);\n      case 'issues':\n        return this.handleIssuesTask(task, startTime);\n      default:\n        return this.createErrorResult(\n          'INVALID_TASK_TYPE',\n          `Unknown task type: ${taskType}`,\n          startTime\n        );\n    }\n  }\n\n  // ==========================================================================\n  // Public Methods\n  // ==========================================================================\n\n  /**\n   * Analyze code and generate metrics\n   */\n  async analyzeCode(code: string, filePath: string): Promise<FileAnalysis> {\n    this.logger.info('Analyzing code', { file: filePath });\n\n    const metrics = await this.calculateCodeMetrics(code);\n    const issues = this.findIssues(code, filePath);\n    const dependencies = this.extractDependencies(code);\n    const exports = this.extractExports(code);\n\n    return {\n      path: filePath,\n      type: path.extname(filePath).slice(1),\n      linesOfCode: metrics.linesOfCode,\n      complexity: metrics.cyclomaticComplexity,\n      issues,\n      dependencies,\n      exports,\n    };\n  }\n\n  /**\n   * Calculate code metrics\n   *\n   * @remarks Renamed from calculateMetrics to avoid conflict with BaseAgent private method\n   */\n  async calculateCodeMetrics(code: string): Promise<CodeMetrics> {\n    this.logger.debug('Calculating metrics');\n\n    const lines = code.split('\\n');\n    const totalLines = lines.length;\n    const blankLines = lines.filter(l => l.trim().length === 0).length;\n    const commentLines = this.countCommentLines(code);\n    const linesOfCode = totalLines - blankLines - commentLines;\n\n    const functionCount = this.countFunctions(code);\n    const classCount = this.countClasses(code);\n    const avgFunctionLength = this.calculateAverageFunctionLength(code);\n    const maxFunctionLength = this.calculateMaxFunctionLength(code);\n    const cyclomaticComplexity = this.calculateCyclomaticComplexity(code);\n    const cognitiveComplexity = this.calculateCognitiveComplexity(code);\n\n    // Calculate maintainability index\n    const halsteadVolume = Math.log2(linesOfCode + 1) * linesOfCode;\n    const maintainabilityIndex = Math.max(\n      0,\n      Math.min(\n        100,\n        171 - 5.2 * Math.log(halsteadVolume) - 0.23 * cyclomaticComplexity - 16.2 * Math.log(linesOfCode)\n      )\n    );\n\n    // Estimate technical debt (simplified calculation)\n    const technicalDebt = this.estimateTechnicalDebt(\n      linesOfCode,\n      cyclomaticComplexity,\n      maintainabilityIndex\n    );\n\n    return {\n      totalLines,\n      linesOfCode,\n      commentLines,\n      blankLines,\n      fileCount: 1,\n      functionCount,\n      classCount,\n      avgFunctionLength: Math.round(avgFunctionLength),\n      maxFunctionLength,\n      cyclomaticComplexity,\n      cognitiveComplexity,\n      maintainabilityIndex: Math.round(maintainabilityIndex),\n      technicalDebt,\n    };\n  }\n\n  /**\n   * Assess code quality\n   */\n  async assessQuality(code: string, filePath: string): Promise<QualityAssessment> {\n    this.logger.info('Assessing quality', { file: filePath });\n\n    const metrics = await this.calculateCodeMetrics(code);\n    const issues = this.findIssues(code, filePath);\n    const recommendations = this.generateRecommendations(metrics, issues);\n\n    // Calculate score based on metrics and issues\n    const score = this.calculateQualityScore(metrics, issues);\n    const grade = this.scoreToGrade(score);\n\n    return {\n      score,\n      grade,\n      metrics,\n      issues,\n      recommendations,\n      timestamp: new Date(),\n    };\n  }\n\n  /**\n   * Find issues in code\n   */\n  findIssues(code: string, filePath: string): QualityIssue[] {\n    this.logger.debug('Finding issues', { file: filePath });\n\n    const issues: QualityIssue[] = [];\n    const lines = code.split('\\n');\n\n    // Check for common issues\n    issues.push(...this.findComplexityIssues(code, lines, filePath));\n    issues.push(...this.findStyleIssues(code, lines, filePath));\n    issues.push(...this.findSecurityIssues(code, lines, filePath));\n    issues.push(...this.findMaintainabilityIssues(code, lines, filePath));\n\n    return issues.sort((a, b) => {\n      const severityOrder = { critical: 0, error: 1, warning: 2, info: 3 };\n      return severityOrder[a.severity] - severityOrder[b.severity];\n    });\n  }\n\n  /**\n   * Analyze entire project\n   */\n  async analyzeProject(projectRoot: string): Promise<ProjectAnalysis> {\n    this.logger.info('Analyzing project', { root: projectRoot });\n\n    const files = await this.findFiles(projectRoot);\n    const fileAnalyses: FileAnalysis[] = [];\n    let aggregatedMetrics: CodeMetrics = this.createEmptyMetrics();\n    const allIssues: QualityIssue[] = [];\n    const allDependencies = new Set<string>();\n    const allExports = new Set<string>();\n\n    for (const file of files) {\n      try {\n        const content = await fs.readFile(file, 'utf-8');\n        const analysis = await this.analyzeCode(content, path.relative(projectRoot, file));\n\n        fileAnalyses.push(analysis);\n        allIssues.push(...analysis.issues);\n        analysis.dependencies.forEach(d => allDependencies.add(d));\n        analysis.exports.forEach(e => allExports.add(e));\n\n        // Aggregate metrics\n        const metrics = await this.calculateCodeMetrics(content);\n        aggregatedMetrics = this.aggregateMetrics(aggregatedMetrics, metrics);\n      } catch (error) {\n        this.logger.warn(`Failed to analyze ${file}`, { error });\n      }\n    }\n\n    // Calculate overall quality\n    const score = this.calculateQualityScore(aggregatedMetrics, allIssues);\n    const grade = this.scoreToGrade(score);\n    const recommendations = this.generateRecommendations(aggregatedMetrics, allIssues);\n\n    // Identify hotspots\n    const hotspots = this.identifyHotspots(fileAnalyses);\n\n    // Analyze dependencies\n    const dependencies = this.analyzeDependencies(\n      fileAnalyses,\n      allDependencies,\n      allExports\n    );\n\n    return {\n      name: path.basename(projectRoot),\n      rootPath: projectRoot,\n      quality: {\n        score,\n        grade,\n        metrics: aggregatedMetrics,\n        issues: allIssues,\n        recommendations,\n        timestamp: new Date(),\n      },\n      files: fileAnalyses,\n      dependencies,\n      hotspots,\n    };\n  }\n\n  // ==========================================================================\n  // Private Task Handlers\n  // ==========================================================================\n\n  private async handleAnalyzeTask(\n    task: AgentTask,\n    startTime: Date\n  ): Promise<AgentResult<ProjectAnalysis | FileAnalysis>> {\n    const input = task.input?.data as {\n      projectRoot?: string;\n      code?: string;\n      filePath?: string;\n    } | undefined;\n\n    if (input?.projectRoot) {\n      try {\n        const analysis = await this.analyzeProject(input.projectRoot);\n        return this.createSuccessResult(analysis, startTime);\n      } catch (error) {\n        const message = error instanceof Error ? error.message : String(error);\n        return this.createErrorResult('ANALYSIS_ERROR', `Project analysis failed: ${message}`, startTime) as AgentResult<ProjectAnalysis | FileAnalysis>;\n      }\n    }\n\n    if (input?.code && input?.filePath) {\n      try {\n        const analysis = await this.analyzeCode(input.code, input.filePath);\n        return this.createSuccessResult(analysis, startTime);\n      } catch (error) {\n        const message = error instanceof Error ? error.message : String(error);\n        return this.createErrorResult('ANALYSIS_ERROR', `Code analysis failed: ${message}`, startTime) as AgentResult<ProjectAnalysis | FileAnalysis>;\n      }\n    }\n\n    return this.createErrorResult(\n      'VALIDATION_ERROR',\n      'Either projectRoot or code+filePath is required',\n      startTime\n    ) as AgentResult<ProjectAnalysis | FileAnalysis>;\n  }\n\n  private async handleMetricsTask(\n    task: AgentTask,\n    startTime: Date\n  ): Promise<AgentResult<CodeMetrics>> {\n    const input = task.input?.data as { code: string } | undefined;\n\n    if (!input?.code) {\n      return this.createErrorResult(\n        'VALIDATION_ERROR',\n        'Code is required for metrics calculation',\n        startTime\n      ) as AgentResult<CodeMetrics>;\n    }\n\n    try {\n      const metrics = await this.calculateCodeMetrics(input.code);\n      return this.createSuccessResult(metrics, startTime);\n    } catch (error) {\n      const message = error instanceof Error ? error.message : String(error);\n      return this.createErrorResult('METRICS_ERROR', `Metrics calculation failed: ${message}`, startTime) as AgentResult<CodeMetrics>;\n    }\n  }\n\n  private async handleQualityTask(\n    task: AgentTask,\n    startTime: Date\n  ): Promise<AgentResult<QualityAssessment>> {\n    const input = task.input?.data as { code: string; filePath: string } | undefined;\n\n    if (!input?.code) {\n      return this.createErrorResult(\n        'VALIDATION_ERROR',\n        'Code and file path are required for quality assessment',\n        startTime\n      ) as AgentResult<QualityAssessment>;\n    }\n\n    try {\n      const assessment = await this.assessQuality(input.code, input.filePath);\n      return this.createSuccessResult(assessment, startTime);\n    } catch (error) {\n      const message = error instanceof Error ? error.message : String(error);\n      return this.createErrorResult('QUALITY_ERROR', `Quality assessment failed: ${message}`, startTime) as AgentResult<QualityAssessment>;\n    }\n  }\n\n  private async handleIssuesTask(\n    task: AgentTask,\n    startTime: Date\n  ): Promise<AgentResult<QualityIssue[]>> {\n    const input = task.input?.data as { code: string; filePath: string } | undefined;\n\n    if (!input?.code) {\n      return this.createErrorResult(\n        'VALIDATION_ERROR',\n        'Code and file path are required for issue detection',\n        startTime\n      ) as AgentResult<QualityIssue[]>;\n    }\n\n    try {\n      const issues = this.findIssues(input.code, input.filePath);\n      return this.createSuccessResult(issues, startTime);\n    } catch (error) {\n      const message = error instanceof Error ? error.message : String(error);\n      return this.createErrorResult('ISSUES_ERROR', `Issue detection failed: ${message}`, startTime) as AgentResult<QualityIssue[]>;\n    }\n  }\n\n  // ==========================================================================\n  // Metrics Calculation\n  // ==========================================================================\n\n  private countCommentLines(code: string): number {\n    let count = 0;\n    let inBlockComment = false;\n\n    for (const line of code.split('\\n')) {\n      const trimmed = line.trim();\n\n      if (inBlockComment) {\n        count++;\n        if (trimmed.includes('*/')) {\n          inBlockComment = false;\n        }\n      } else if (trimmed.startsWith('//')) {\n        count++;\n      } else if (trimmed.startsWith('/*')) {\n        count++;\n        if (!trimmed.includes('*/')) {\n          inBlockComment = true;\n        }\n      }\n    }\n\n    return count;\n  }\n\n  private countFunctions(code: string): number {\n    const patterns = [\n      /function\\s+\\w+/g,\n      /\\w+\\s*[=:]\\s*(?:async\\s+)?function/g,\n      /\\w+\\s*[=:]\\s*(?:async\\s+)?\\([^)]*\\)\\s*=>/g,\n      /(?:async\\s+)?(\\w+)\\s*\\([^)]*\\)\\s*(?::\\s*[^{]+)?\\s*\\{/g,\n    ];\n\n    let count = 0;\n    for (const pattern of patterns) {\n      const matches = code.match(pattern);\n      if (matches) {\n        count += matches.length;\n      }\n    }\n\n    return count;\n  }\n\n  private countClasses(code: string): number {\n    const matches = code.match(/\\bclass\\s+\\w+/g);\n    return matches ? matches.length : 0;\n  }\n\n  private calculateAverageFunctionLength(code: string): number {\n    const functionCount = this.countFunctions(code);\n    if (functionCount === 0) return 0;\n\n    const lines = code.split('\\n').filter(l => l.trim().length > 0);\n    return lines.length / functionCount;\n  }\n\n  private calculateMaxFunctionLength(code: string): number {\n    let maxLength = 0;\n    let currentLength = 0;\n    let braceCount = 0;\n    let inFunction = false;\n\n    for (const line of code.split('\\n')) {\n      if (/(?:function|=>)\\s*\\{?/.test(line) && !inFunction) {\n        inFunction = true;\n        currentLength = 0;\n      }\n\n      if (inFunction) {\n        currentLength++;\n        braceCount += (line.match(/{/g) || []).length;\n        braceCount -= (line.match(/}/g) || []).length;\n\n        if (braceCount <= 0) {\n          maxLength = Math.max(maxLength, currentLength);\n          inFunction = false;\n          currentLength = 0;\n        }\n      }\n    }\n\n    return maxLength;\n  }\n\n  private calculateCyclomaticComplexity(code: string): number {\n    let complexity = 1;\n\n    const patterns = [\n      /\\bif\\s*\\(/g,\n      /\\belse\\s+if\\s*\\(/g,\n      /\\bfor\\s*\\(/g,\n      /\\bwhile\\s*\\(/g,\n      /\\bcase\\s+/g,\n      /\\bcatch\\s*\\(/g,\n      /\\?\\s*[^:]+\\s*:/g,\n      /&&/g,\n      /\\|\\|/g,\n    ];\n\n    for (const pattern of patterns) {\n      const matches = code.match(pattern);\n      if (matches) {\n        complexity += matches.length;\n      }\n    }\n\n    return complexity;\n  }\n\n  private calculateCognitiveComplexity(code: string): number {\n    let complexity = 0;\n    let nestingLevel = 0;\n\n    for (const line of code.split('\\n')) {\n      if (/\\b(if|for|while|switch)\\s*\\(/.test(line)) {\n        complexity += 1 + nestingLevel;\n        nestingLevel++;\n      }\n\n      if (/\\belse\\b/.test(line)) {\n        complexity += 1;\n      }\n\n      const closingBraces = (line.match(/}/g) || []).length;\n      nestingLevel = Math.max(0, nestingLevel - closingBraces);\n\n      const logicalOps = (line.match(/&&|\\|\\|/g) || []).length;\n      complexity += logicalOps;\n    }\n\n    return complexity;\n  }\n\n  private estimateTechnicalDebt(\n    linesOfCode: number,\n    complexity: number,\n    maintainability: number\n  ): number {\n    // Simplified technical debt estimation in hours\n    const complexityDebt = Math.max(0, complexity - 10) * 0.5;\n    const maintainabilityDebt = Math.max(0, 100 - maintainability) * 0.1;\n    const sizeDebt = Math.max(0, linesOfCode - 500) * 0.01;\n\n    return Math.round((complexityDebt + maintainabilityDebt + sizeDebt) * 10) / 10;\n  }\n\n  // ==========================================================================\n  // Issue Detection\n  // ==========================================================================\n\n  private findComplexityIssues(\n    code: string,\n    lines: string[],\n    filePath: string\n  ): QualityIssue[] {\n    const issues: QualityIssue[] = [];\n\n    // Check for deep nesting\n    let maxNesting = 0;\n    let maxNestingLine = 0;\n    let currentNesting = 0;\n\n    for (let i = 0; i < lines.length; i++) {\n      currentNesting += (lines[i].match(/{/g) || []).length;\n      currentNesting -= (lines[i].match(/}/g) || []).length;\n\n      if (currentNesting > maxNesting) {\n        maxNesting = currentNesting;\n        maxNestingLine = i + 1;\n      }\n    }\n\n    if (maxNesting > 4) {\n      issues.push({\n        type: 'complexity',\n        severity: maxNesting > 6 ? 'error' : 'warning',\n        message: `Deep nesting detected (${maxNesting} levels)`,\n        file: filePath,\n        line: maxNestingLine,\n        rule: 'max-depth',\n        suggestion: 'Consider extracting nested logic into separate functions',\n      });\n    }\n\n    // Check for long functions\n    const complexity = this.calculateCyclomaticComplexity(code);\n    if (complexity > 15) {\n      issues.push({\n        type: 'complexity',\n        severity: complexity > 25 ? 'error' : 'warning',\n        message: `High cyclomatic complexity (${complexity})`,\n        file: filePath,\n        rule: 'complexity',\n        suggestion: 'Break down complex functions into smaller, focused ones',\n      });\n    }\n\n    return issues;\n  }\n\n  private findStyleIssues(\n    code: string,\n    lines: string[],\n    filePath: string\n  ): QualityIssue[] {\n    const issues: QualityIssue[] = [];\n\n    // Check for console.log statements\n    for (let i = 0; i < lines.length; i++) {\n      if (lines[i].includes('console.log')) {\n        issues.push({\n          type: 'style',\n          severity: 'warning',\n          message: 'Unexpected console.log statement',\n          file: filePath,\n          line: i + 1,\n          rule: 'no-console',\n          suggestion: 'Remove or replace with proper logging',\n        });\n      }\n    }\n\n    // Check for var usage\n    for (let i = 0; i < lines.length; i++) {\n      if (/\\bvar\\s+/.test(lines[i])) {\n        issues.push({\n          type: 'style',\n          severity: 'warning',\n          message: 'Use const or let instead of var',\n          file: filePath,\n          line: i + 1,\n          rule: 'no-var',\n          suggestion: 'Replace var with const or let',\n        });\n      }\n    }\n\n    // Check for long lines\n    for (let i = 0; i < lines.length; i++) {\n      if (lines[i].length > 120) {\n        issues.push({\n          type: 'style',\n          severity: 'info',\n          message: `Line too long (${lines[i].length} characters)`,\n          file: filePath,\n          line: i + 1,\n          rule: 'max-len',\n          suggestion: 'Break long lines for better readability',\n        });\n      }\n    }\n\n    return issues;\n  }\n\n  private findSecurityIssues(\n    code: string,\n    lines: string[],\n    filePath: string\n  ): QualityIssue[] {\n    const issues: QualityIssue[] = [];\n\n    // Check for eval usage\n    for (let i = 0; i < lines.length; i++) {\n      if (/\\beval\\s*\\(/.test(lines[i])) {\n        issues.push({\n          type: 'security',\n          severity: 'critical',\n          message: 'Avoid using eval()',\n          file: filePath,\n          line: i + 1,\n          rule: 'no-eval',\n          suggestion: 'Use safer alternatives to eval',\n        });\n      }\n    }\n\n    // Check for hardcoded secrets patterns\n    for (let i = 0; i < lines.length; i++) {\n      if (/(?:password|secret|api_key|apikey)\\s*[:=]\\s*['\"][^'\"]+['\"]/i.test(lines[i])) {\n        issues.push({\n          type: 'security',\n          severity: 'critical',\n          message: 'Potential hardcoded secret detected',\n          file: filePath,\n          line: i + 1,\n          rule: 'no-secrets',\n          suggestion: 'Use environment variables for secrets',\n        });\n      }\n    }\n\n    // Check for innerHTML usage\n    for (let i = 0; i < lines.length; i++) {\n      if (/\\.innerHTML\\s*=/.test(lines[i])) {\n        issues.push({\n          type: 'security',\n          severity: 'warning',\n          message: 'Avoid using innerHTML, potential XSS vulnerability',\n          file: filePath,\n          line: i + 1,\n          rule: 'no-inner-html',\n          suggestion: 'Use textContent or sanitize HTML',\n        });\n      }\n    }\n\n    return issues;\n  }\n\n  private findMaintainabilityIssues(\n    code: string,\n    lines: string[],\n    filePath: string\n  ): QualityIssue[] {\n    const issues: QualityIssue[] = [];\n\n    // Check for TODO/FIXME comments\n    for (let i = 0; i < lines.length; i++) {\n      if (/\\/\\/\\s*(TODO|FIXME|HACK|XXX)/i.test(lines[i])) {\n        const match = lines[i].match(/\\/\\/\\s*(TODO|FIXME|HACK|XXX)/i);\n        issues.push({\n          type: 'maintainability',\n          severity: 'info',\n          message: `${match![1]} comment found`,\n          file: filePath,\n          line: i + 1,\n          rule: 'no-warning-comments',\n          suggestion: 'Address and remove the comment',\n        });\n      }\n    }\n\n    // Check for magic numbers\n    for (let i = 0; i < lines.length; i++) {\n      if (/[^a-zA-Z]\\d{3,}[^a-zA-Z]/.test(lines[i]) && !lines[i].includes('//')) {\n        issues.push({\n          type: 'maintainability',\n          severity: 'info',\n          message: 'Magic number detected',\n          file: filePath,\n          line: i + 1,\n          rule: 'no-magic-numbers',\n          suggestion: 'Extract to a named constant',\n        });\n      }\n    }\n\n    // Check for any type usage\n    for (let i = 0; i < lines.length; i++) {\n      if (/:\\s*any\\b/.test(lines[i])) {\n        issues.push({\n          type: 'maintainability',\n          severity: 'warning',\n          message: 'Avoid using any type',\n          file: filePath,\n          line: i + 1,\n          rule: 'no-any',\n          suggestion: 'Use a more specific type',\n        });\n      }\n    }\n\n    return issues;\n  }\n\n  // ==========================================================================\n  // Quality Scoring\n  // ==========================================================================\n\n  private calculateQualityScore(metrics: CodeMetrics, issues: QualityIssue[]): number {\n    let score = 100;\n\n    // Deduct for complexity\n    if (metrics.cyclomaticComplexity > 10) {\n      score -= Math.min(20, (metrics.cyclomaticComplexity - 10) * 2);\n    }\n\n    // Deduct for maintainability\n    score -= Math.max(0, 50 - metrics.maintainabilityIndex) * 0.5;\n\n    // Deduct for issues\n    const issueDeductions = {\n      critical: 10,\n      error: 5,\n      warning: 2,\n      info: 0.5,\n    };\n\n    for (const issue of issues) {\n      score -= issueDeductions[issue.severity];\n    }\n\n    return Math.max(0, Math.min(100, Math.round(score)));\n  }\n\n  private scoreToGrade(score: number): 'A' | 'B' | 'C' | 'D' | 'F' {\n    if (score >= 90) return 'A';\n    if (score >= 80) return 'B';\n    if (score >= 70) return 'C';\n    if (score >= 60) return 'D';\n    return 'F';\n  }\n\n  // ==========================================================================\n  // Recommendations\n  // ==========================================================================\n\n  private generateRecommendations(\n    metrics: CodeMetrics,\n    issues: QualityIssue[]\n  ): string[] {\n    const recommendations: string[] = [];\n\n    if (metrics.cyclomaticComplexity > 15) {\n      recommendations.push(\n        'Reduce cyclomatic complexity by breaking down complex functions'\n      );\n    }\n\n    if (metrics.maintainabilityIndex < 50) {\n      recommendations.push(\n        'Improve code maintainability through refactoring and documentation'\n      );\n    }\n\n    if (metrics.avgFunctionLength > 30) {\n      recommendations.push(\n        'Keep functions shorter (under 30 lines) for better readability'\n      );\n    }\n\n    const criticalIssues = issues.filter(i => i.severity === 'critical');\n    if (criticalIssues.length > 0) {\n      recommendations.push(\n        `Address ${criticalIssues.length} critical issue(s) immediately`\n      );\n    }\n\n    const securityIssues = issues.filter(i => i.type === 'security');\n    if (securityIssues.length > 0) {\n      recommendations.push(\n        `Fix ${securityIssues.length} security issue(s) to improve safety`\n      );\n    }\n\n    if (metrics.commentLines / metrics.linesOfCode < 0.1) {\n      recommendations.push(\n        'Consider adding more documentation comments'\n      );\n    }\n\n    if (recommendations.length === 0) {\n      recommendations.push('Code quality is good! Keep up the good work.');\n    }\n\n    return recommendations;\n  }\n\n  // ==========================================================================\n  // Helper Methods\n  // ==========================================================================\n\n  private createEmptyMetrics(): CodeMetrics {\n    return {\n      totalLines: 0,\n      linesOfCode: 0,\n      commentLines: 0,\n      blankLines: 0,\n      fileCount: 0,\n      functionCount: 0,\n      classCount: 0,\n      avgFunctionLength: 0,\n      maxFunctionLength: 0,\n      cyclomaticComplexity: 0,\n      cognitiveComplexity: 0,\n      maintainabilityIndex: 100,\n      technicalDebt: 0,\n    };\n  }\n\n  private aggregateMetrics(current: CodeMetrics, additional: CodeMetrics): CodeMetrics {\n    return {\n      totalLines: current.totalLines + additional.totalLines,\n      linesOfCode: current.linesOfCode + additional.linesOfCode,\n      commentLines: current.commentLines + additional.commentLines,\n      blankLines: current.blankLines + additional.blankLines,\n      fileCount: current.fileCount + 1,\n      functionCount: current.functionCount + additional.functionCount,\n      classCount: current.classCount + additional.classCount,\n      avgFunctionLength: Math.round(\n        (current.avgFunctionLength * current.fileCount + additional.avgFunctionLength) /\n        (current.fileCount + 1)\n      ),\n      maxFunctionLength: Math.max(current.maxFunctionLength, additional.maxFunctionLength),\n      cyclomaticComplexity: current.cyclomaticComplexity + additional.cyclomaticComplexity,\n      cognitiveComplexity: current.cognitiveComplexity + additional.cognitiveComplexity,\n      maintainabilityIndex: Math.round(\n        (current.maintainabilityIndex * current.fileCount + additional.maintainabilityIndex) /\n        (current.fileCount + 1)\n      ),\n      technicalDebt: current.technicalDebt + additional.technicalDebt,\n    };\n  }\n\n  private extractDependencies(code: string): string[] {\n    const dependencies: string[] = [];\n\n    // Extract imports\n    const importRegex = /import\\s+(?:.*?\\s+from\\s+)?['\"]([^'\"]+)['\"]/g;\n    let match;\n    while ((match = importRegex.exec(code)) !== null) {\n      dependencies.push(match[1]);\n    }\n\n    // Extract requires\n    const requireRegex = /require\\s*\\(['\"]([^'\"]+)['\"]\\)/g;\n    while ((match = requireRegex.exec(code)) !== null) {\n      dependencies.push(match[1]);\n    }\n\n    return [...new Set(dependencies)];\n  }\n\n  private extractExports(code: string): string[] {\n    const exports: string[] = [];\n\n    // Named exports\n    const namedExportRegex = /export\\s+(?:const|let|var|function|class)\\s+(\\w+)/g;\n    let match;\n    while ((match = namedExportRegex.exec(code)) !== null) {\n      exports.push(match[1]);\n    }\n\n    // Export declarations\n    const exportDeclRegex = /export\\s*\\{([^}]+)\\}/g;\n    while ((match = exportDeclRegex.exec(code)) !== null) {\n      const names = match[1].split(',').map(n => n.trim().split(/\\s+as\\s+/)[0]);\n      exports.push(...names);\n    }\n\n    return [...new Set(exports.filter(e => e))];\n  }\n\n  private identifyHotspots(files: FileAnalysis[]): Array<{\n    file: string;\n    reason: string;\n    severity: 'low' | 'medium' | 'high';\n  }> {\n    const hotspots: Array<{\n      file: string;\n      reason: string;\n      severity: 'low' | 'medium' | 'high';\n    }> = [];\n\n    for (const file of files) {\n      if (file.complexity > 20) {\n        hotspots.push({\n          file: file.path,\n          reason: `High complexity (${file.complexity})`,\n          severity: file.complexity > 30 ? 'high' : 'medium',\n        });\n      }\n\n      const criticalIssues = file.issues.filter(i => i.severity === 'critical');\n      if (criticalIssues.length > 0) {\n        hotspots.push({\n          file: file.path,\n          reason: `${criticalIssues.length} critical issue(s)`,\n          severity: 'high',\n        });\n      }\n\n      if (file.linesOfCode > 500) {\n        hotspots.push({\n          file: file.path,\n          reason: `Large file (${file.linesOfCode} LOC)`,\n          severity: file.linesOfCode > 1000 ? 'high' : 'medium',\n        });\n      }\n    }\n\n    return hotspots.sort((a, b) => {\n      const order = { high: 0, medium: 1, low: 2 };\n      return order[a.severity] - order[b.severity];\n    });\n  }\n\n  private analyzeDependencies(\n    files: FileAnalysis[],\n    allDependencies: Set<string>,\n    allExports: Set<string>\n  ): {\n    internal: string[];\n    external: string[];\n    unused: string[];\n    missing: string[];\n  } {\n    const internal: string[] = [];\n    const external: string[] = [];\n\n    for (const dep of allDependencies) {\n      if (dep.startsWith('.') || dep.startsWith('/')) {\n        internal.push(dep);\n      } else {\n        external.push(dep);\n      }\n    }\n\n    // Simplified unused/missing detection\n    return {\n      internal: [...new Set(internal)],\n      external: [...new Set(external)],\n      unused: [], // Would require deeper analysis\n      missing: [], // Would require package.json parsing\n    };\n  }\n\n  private async findFiles(dir: string): Promise<string[]> {\n    const files: string[] = [];\n\n    try {\n      const entries = await fs.readdir(dir, { withFileTypes: true });\n\n      for (const entry of entries) {\n        const fullPath = path.join(dir, entry.name);\n\n        if (\n          entry.name === 'node_modules' ||\n          entry.name === '.git' ||\n          entry.name === 'dist' ||\n          entry.name === 'build' ||\n          entry.name.startsWith('.')\n        ) {\n          continue;\n        }\n\n        if (entry.isDirectory()) {\n          const subFiles = await this.findFiles(fullPath);\n          files.push(...subFiles);\n        } else if (entry.isFile()) {\n          const ext = path.extname(entry.name);\n          if (this.codePatterns.includes(ext)) {\n            files.push(fullPath);\n          }\n        }\n      }\n    } catch {\n      // Directory doesn't exist or can't be read\n    }\n\n    return files;\n  }\n}\n\n"],"names":["exports"],"mappings":"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"}