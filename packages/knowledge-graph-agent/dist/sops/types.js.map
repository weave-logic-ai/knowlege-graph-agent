{"version":3,"file":"types.js","sources":["../../src/sops/types.ts"],"sourcesContent":["/**\n * AI-SDLC SOP Types and Schemas\n *\n * Type definitions for AI-SDLC Standard Operating Procedures integration.\n * Based on https://github.com/AISDLC/AI-SDLC-SOPs\n *\n * @module sops/types\n */\n\n/**\n * SOP Categories aligned with AI-SDLC framework\n */\nexport enum SOPCategory {\n  /** Program and Project Management (1000-1010) */\n  PROGRAM_MANAGEMENT = 'program-management',\n\n  /** Operational and Maintenance (1011-1060) */\n  OPERATIONS = 'operations',\n\n  /** Training and Development (1100-1220) */\n  DEVELOPMENT = 'development',\n\n  /** Governance and Specialized Controls (1300-2000) */\n  GOVERNANCE = 'governance',\n\n  /** Quality Records (2000+) */\n  QUALITY = 'quality',\n}\n\n/**\n * SOP Compliance Status\n */\nexport enum ComplianceStatus {\n  /** Fully compliant with SOP requirements */\n  COMPLIANT = 'compliant',\n\n  /** Partially compliant - some requirements met */\n  PARTIAL = 'partial',\n\n  /** Not compliant - requirements not met */\n  NON_COMPLIANT = 'non-compliant',\n\n  /** Not applicable to this project */\n  NOT_APPLICABLE = 'not-applicable',\n\n  /** Not yet assessed */\n  PENDING = 'pending',\n}\n\n/**\n * SOP Priority/Risk Level\n */\nexport enum SOPPriority {\n  /** Critical - Must be addressed immediately */\n  CRITICAL = 'critical',\n\n  /** High - Should be addressed soon */\n  HIGH = 'high',\n\n  /** Medium - Address in normal course */\n  MEDIUM = 'medium',\n\n  /** Low - Nice to have */\n  LOW = 'low',\n}\n\n/**\n * AI-IRB Review Status\n */\nexport enum IRBStatus {\n  /** Requires IRB review */\n  REQUIRED = 'required',\n\n  /** IRB review in progress */\n  IN_REVIEW = 'in-review',\n\n  /** IRB approved */\n  APPROVED = 'approved',\n\n  /** IRB approval not required */\n  NOT_REQUIRED = 'not-required',\n\n  /** IRB review pending */\n  PENDING = 'pending',\n}\n\n/**\n * Knowledge Graph Layer Types\n */\nexport enum GraphLayer {\n  /** Foundation layer - AI-SDLC SOPs reference */\n  STANDARDS = 'standards',\n\n  /** Project implementation layer */\n  PROJECT = 'project',\n\n  /** Compliance overlay showing gaps */\n  COMPLIANCE = 'compliance',\n\n  /** Custom overlay */\n  CUSTOM = 'custom',\n}\n\n/**\n * SOP Requirement definition\n */\nexport interface SOPRequirement {\n  /** Requirement ID */\n  id: string;\n\n  /** Requirement description */\n  description: string;\n\n  /** Whether this requirement is mandatory */\n  mandatory: boolean;\n\n  /** Verification method */\n  verification: 'document' | 'test' | 'review' | 'audit' | 'automated';\n\n  /** Evidence required for compliance */\n  evidence: string[];\n\n  /** Related artifacts */\n  artifacts?: string[];\n}\n\n/**\n * SOP Checkpoint definition\n */\nexport interface SOPCheckpoint {\n  /** Checkpoint ID */\n  id: string;\n\n  /** Checkpoint name */\n  name: string;\n\n  /** When this checkpoint should be triggered */\n  trigger: 'phase-start' | 'phase-end' | 'milestone' | 'continuous' | 'scheduled';\n\n  /** Phase this checkpoint applies to */\n  phase?: string;\n\n  /** Requirements to verify at this checkpoint */\n  requirements: string[];\n\n  /** AI-IRB involvement */\n  irbRequired: boolean;\n\n  /** Approval authorities */\n  approvers: string[];\n}\n\n/**\n * SOP Definition\n */\nexport interface SOPDefinition {\n  /** SOP ID (e.g., \"SOP-1200-01-AI\") */\n  id: string;\n\n  /** SOP number (e.g., 1200) */\n  number: number;\n\n  /** SOP title */\n  title: string;\n\n  /** SOP description */\n  description: string;\n\n  /** SOP category */\n  category: SOPCategory;\n\n  /** Priority/risk level */\n  priority: SOPPriority;\n\n  /** Version */\n  version: string;\n\n  /** Source URL */\n  sourceUrl: string;\n\n  /** Scope description */\n  scope: string;\n\n  /** Requirements */\n  requirements: SOPRequirement[];\n\n  /** Checkpoints */\n  checkpoints: SOPCheckpoint[];\n\n  /** Related SOPs */\n  relatedSOPs: string[];\n\n  /** Tags for searching */\n  tags: string[];\n\n  /** Whether AI-IRB review is typically required */\n  irbTypicallyRequired: boolean;\n\n  /** Applicable project types */\n  applicableTo: string[];\n}\n\n/**\n * Project SOP Assessment\n */\nexport interface SOPAssessment {\n  /** SOP ID being assessed */\n  sopId: string;\n\n  /** Current compliance status */\n  status: ComplianceStatus;\n\n  /** Compliance score (0-100) */\n  score: number;\n\n  /** Requirements met */\n  requirementsMet: string[];\n\n  /** Requirements not met (gaps) */\n  requirementsGaps: string[];\n\n  /** Evidence provided */\n  evidence: Record<string, string>;\n\n  /** AI-IRB status */\n  irbStatus: IRBStatus;\n\n  /** Assessment date */\n  assessedAt: Date;\n\n  /** Assessor */\n  assessedBy: string;\n\n  /** Notes */\n  notes: string;\n\n  /** Remediation plan if non-compliant */\n  remediationPlan?: string;\n\n  /** Target compliance date */\n  targetDate?: Date;\n}\n\n/**\n * Compliance Gap\n */\nexport interface ComplianceGap {\n  /** Gap ID */\n  id: string;\n\n  /** SOP ID */\n  sopId: string;\n\n  /** Requirement ID */\n  requirementId: string;\n\n  /** Gap description */\n  description: string;\n\n  /** Priority */\n  priority: SOPPriority;\n\n  /** Impact description */\n  impact: string;\n\n  /** Recommended remediation */\n  remediation: string;\n\n  /** Effort estimate */\n  effort: 'low' | 'medium' | 'high';\n\n  /** Status */\n  status: 'open' | 'in-progress' | 'resolved' | 'accepted-risk';\n\n  /** Created date */\n  createdAt: Date;\n\n  /** Resolved date */\n  resolvedAt?: Date;\n}\n\n/**\n * Graph Layer Definition\n */\nexport interface LayerDefinition {\n  /** Layer ID */\n  id: string;\n\n  /** Layer name */\n  name: string;\n\n  /** Layer type */\n  type: GraphLayer;\n\n  /** Layer description */\n  description: string;\n\n  /** Whether layer is visible */\n  visible: boolean;\n\n  /** Layer order (for rendering) */\n  order: number;\n\n  /** Node filter for this layer */\n  nodeFilter?: (node: LayerNode) => boolean;\n\n  /** Edge filter for this layer */\n  edgeFilter?: (edge: LayerEdge) => boolean;\n\n  /** Metadata */\n  metadata?: Record<string, unknown>;\n}\n\n/**\n * Layer Node - extends base node with layer info\n */\nexport interface LayerNode {\n  /** Node ID */\n  id: string;\n\n  /** Node title */\n  title: string;\n\n  /** Node type */\n  type: string;\n\n  /** Layer this node belongs to */\n  layer: GraphLayer;\n\n  /** SOP reference (for standards layer) */\n  sopRef?: string;\n\n  /** Compliance status (for compliance layer) */\n  complianceStatus?: ComplianceStatus;\n\n  /** Tags */\n  tags: string[];\n\n  /** Metadata */\n  metadata?: Record<string, unknown>;\n}\n\n/**\n * Layer Edge - extends base edge with layer info\n */\nexport interface LayerEdge {\n  /** Source node ID */\n  source: string;\n\n  /** Target node ID */\n  target: string;\n\n  /** Edge type */\n  type: 'implements' | 'references' | 'depends-on' | 'compliance-gap' | 'wikilink';\n\n  /** Layer this edge belongs to */\n  layer: GraphLayer;\n\n  /** Weight */\n  weight: number;\n\n  /** Metadata */\n  metadata?: Record<string, unknown>;\n}\n\n/**\n * Multi-Layer Graph\n */\nexport interface MultiLayerGraph {\n  /** Graph ID */\n  id: string;\n\n  /** Graph name */\n  name: string;\n\n  /** Layers */\n  layers: LayerDefinition[];\n\n  /** All nodes across layers */\n  nodes: LayerNode[];\n\n  /** All edges across layers */\n  edges: LayerEdge[];\n\n  /** Cross-layer edges (connecting nodes in different layers) */\n  crossLayerEdges: LayerEdge[];\n\n  /** Metadata */\n  metadata?: Record<string, unknown>;\n}\n\n/**\n * Compliance Report\n */\nexport interface ComplianceReport {\n  /** Report ID */\n  id: string;\n\n  /** Project name */\n  projectName: string;\n\n  /** Report generation date */\n  generatedAt: Date;\n\n  /** Overall compliance score (0-100) */\n  overallScore: number;\n\n  /** SOP assessments */\n  assessments: SOPAssessment[];\n\n  /** Open gaps */\n  gaps: ComplianceGap[];\n\n  /** Summary by category */\n  categoryScores: Record<SOPCategory, number>;\n\n  /** Summary by priority */\n  priorityBreakdown: Record<SOPPriority, { total: number; compliant: number }>;\n\n  /** AI-IRB summary */\n  irbSummary: {\n    required: number;\n    approved: number;\n    pending: number;\n    inReview: number;\n  };\n\n  /** Recommendations */\n  recommendations: string[];\n}\n\n/**\n * SOP Node Frontmatter - extends standard frontmatter with SOP fields\n */\nexport interface SOPFrontmatter {\n  /** Standard frontmatter fields */\n  title?: string;\n  type?: string;\n  status?: string;\n  created?: string;\n  updated?: string;\n  tags?: string[];\n\n  /** SOP-specific fields */\n  sop?: {\n    /** SOP ID reference */\n    id?: string;\n\n    /** Compliance status */\n    status?: ComplianceStatus;\n\n    /** AI-IRB status */\n    irbStatus?: IRBStatus;\n\n    /** Requirements addressed */\n    requirements?: string[];\n\n    /** Evidence links */\n    evidence?: string[];\n\n    /** Last assessment date */\n    assessedAt?: string;\n\n    /** Assessor */\n    assessedBy?: string;\n\n    /** Notes */\n    notes?: string;\n  };\n\n  /** Layer assignment */\n  layer?: GraphLayer;\n}\n\n/**\n * SOP Configuration\n */\nexport interface SOPConfig {\n  /** Whether SOP compliance is enabled */\n  enabled: boolean;\n\n  /** Source repository for SOPs */\n  sourceRepo: string;\n\n  /** SOP version/tag to use */\n  version: string;\n\n  /** Categories to include */\n  categories: SOPCategory[];\n\n  /** Custom SOP definitions */\n  customSOPs?: SOPDefinition[];\n\n  /** Default IRB requirement */\n  defaultIRBRequired: boolean;\n\n  /** Auto-assessment configuration */\n  autoAssess?: {\n    /** Enable auto-assessment */\n    enabled: boolean;\n\n    /** Patterns to match for compliance */\n    patterns: Record<string, string[]>;\n  };\n}\n"],"names":["SOPCategory","ComplianceStatus","SOPPriority","IRBStatus","GraphLayer"],"mappings":"AAYO,IAAK,gCAAAA,iBAAL;AAELA,eAAA,oBAAA,IAAqB;AAGrBA,eAAA,YAAA,IAAa;AAGbA,eAAA,aAAA,IAAc;AAGdA,eAAA,YAAA,IAAa;AAGbA,eAAA,SAAA,IAAU;AAdA,SAAAA;AAAA,GAAA,eAAA,CAAA,CAAA;AAoBL,IAAK,qCAAAC,sBAAL;AAELA,oBAAA,WAAA,IAAY;AAGZA,oBAAA,SAAA,IAAU;AAGVA,oBAAA,eAAA,IAAgB;AAGhBA,oBAAA,gBAAA,IAAiB;AAGjBA,oBAAA,SAAA,IAAU;AAdA,SAAAA;AAAA,GAAA,oBAAA,CAAA,CAAA;AAoBL,IAAK,gCAAAC,iBAAL;AAELA,eAAA,UAAA,IAAW;AAGXA,eAAA,MAAA,IAAO;AAGPA,eAAA,QAAA,IAAS;AAGTA,eAAA,KAAA,IAAM;AAXI,SAAAA;AAAA,GAAA,eAAA,CAAA,CAAA;AAiBL,IAAK,8BAAAC,eAAL;AAELA,aAAA,UAAA,IAAW;AAGXA,aAAA,WAAA,IAAY;AAGZA,aAAA,UAAA,IAAW;AAGXA,aAAA,cAAA,IAAe;AAGfA,aAAA,SAAA,IAAU;AAdA,SAAAA;AAAA,GAAA,aAAA,CAAA,CAAA;AAoBL,IAAK,+BAAAC,gBAAL;AAELA,cAAA,WAAA,IAAY;AAGZA,cAAA,SAAA,IAAU;AAGVA,cAAA,YAAA,IAAa;AAGbA,cAAA,QAAA,IAAS;AAXC,SAAAA;AAAA,GAAA,cAAA,CAAA,CAAA;"}